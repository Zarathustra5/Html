function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function ibg(){let e=document.querySelectorAll(".ibg");for(var t=0;t<e.length;t++)e[t].querySelector("img")&&(e[t].style.backgroundImage="url("+e[t].querySelector("img").getAttribute("src")+")")}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})),ibg();const scrolls=document.querySelectorAll(".scroll[data-goto]");if(scrolls.length>0){function onScrollClick(e){const t=e.target;if(t.dataset.goto&&document.querySelector(t.dataset.goto)){const o=document.querySelector(t.dataset.goto).getBoundingClientRect().top+pageYOffset-document.querySelector(".header").offsetHeight;menu.classList.contains("_active")&&(burger.classList.remove("_active"),menu.classList.remove("_active"),document.body.classList.remove("_locked")),window.scrollTo({top:o,behavior:"smooth"}),e.preventDefault()}}scrolls.forEach((e=>{e.addEventListener("click",onScrollClick)}))}let burger=document.querySelector(".header__burger"),menu=document.querySelector(".product-menu");burger.onclick=function(){burger.classList.toggle("_active"),menu.classList.toggle("_active"),document.body.classList.toggle("_locked")};let siteMenuShow=document.querySelector(".header .site-menu__show"),siteMenuList=document.querySelector(".header .site-menu__list");siteMenuShow.onclick=function(){siteMenuShow.classList.toggle("_active"),siteMenuList.classList.toggle("_active")};let loginBtn=document.querySelector(".header .main-menu__login-btn"),loginBtnUser=document.querySelector(".header .login-btn__user"),loginForm=document.querySelector(".header .main-menu__login-form"),loginAccount=document.querySelector(".header .main-menu__login-account"),isAuthorized=!1;function getFormValue(e){e.preventDefault();let t=new FormData(loginForm);""!=t.get("login")&&""!=t.get("password")&&(isAuthorized=!0,loginBtn.classList.remove("_active"),loginBtn.classList.add("_padding"),loginForm.classList.remove("_active"),loginBtnUser.querySelector(".email").textContent=t.get("login"),loginBtnUser.querySelector(".name").textContent="Новый пользователь")}loginBtn.onclick=function(){loginBtn.classList.toggle("_active"),isAuthorized?loginAccount.classList.toggle("_active"):loginForm.classList.toggle("_active")},loginForm.addEventListener("submit",getFormValue);let exitAccount=document.getElementById("exit");exitAccount.onclick=()=>{isAuthorized=!1,loginBtn.classList.remove("_active"),loginBtn.classList.remove("_padding"),loginAccount.classList.remove("_active"),loginBtnUser.querySelector(".email").textContent="",loginBtnUser.querySelector(".name").textContent=""};let bookmark=document.querySelector(".header .site-menu__bookmark");bookmark.onclick=function(){bookmark.classList.toggle("_active")};